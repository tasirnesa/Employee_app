generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native", "windows"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id           Int      @id @default(autoincrement()) @map("Id")
  fullName     String   @map("FullName")
  userName     String   @unique @map("UserName")
  password     String   @map("Password")
  gender       String?  @map("Gender")
  age          Int?     @map("Age")
  status       String   @map("Status")
  role         String   @map("Role")
  locked       String   @map("Locked")
  isFirstLogin String   @map("IsFirstLogin")
  activeStatus String   @map("activeStatus")
  createdDate  DateTime @map("CreatedDate")
  createdBy    Int      @map("Id")
  evaluationsAsEvaluator Evaluation[] @relation("evaluator")
  evaluationsAsEvaluatee Evaluation[] @relation("evaluatee")
}

model Evaluation {
  evaluationID   Int      @id @default(autoincrement()) @map("EvaluationID")
  evaluatorID    Int      @map("EvaluatorID")
  evaluateeID    Int      @map("EvaluateeID")
  evaluationType String   @map("EvaluationType")
  sessionID      Int      @map("SessionID")
  evaluationDate DateTime @map("EvaluationDate")
  evaluator      User     @relation("evaluator", fields: [evaluatorID], references: [Id])
  evaluatee      User     @relation("evaluatee", fields: [evaluateeID], references: [Id])
  results        EvaluationResult[]
}

model EvaluationCriteria {
  criteriaID   Int      @id @default(autoincrement()) @map("CriteriaID")
  title        String   @map("Title")
  description  String?  @map("Description")
  createdBy    Int      @map("Id")
  createdDate  DateTime @map("CreatedDate")
}

model EvaluationSession {
  sessionID    Int      @id @default(autoincrement()) @map("SessionID")
  title        String   @map("Title")
  startDate    DateTime @map("StartDate")
  endDate      DateTime @map("EndDate")
  activatedBy  Int      @map("Id")
}

model EvaluationResult {
  resultID     Int      @id @default(autoincrement()) @map("ResultID")
  evaluationID Int      @map("EvaluationID")
  criteriaID   Int      @map("CriteriaID")
  score        Float    @map("Score")
  feedback     String?  @map("Feedback")
}

model Performance {
  id          Int      @id @default(autoincrement())
  userId      Int      @map("userId")
  metrics     Json     @map("metrics")
  date        DateTime @map("date")
  activatedBy Int      @map("Id")
  user        User     @relation(fields: [activatedBy], references: [Id])
}